import unittest, chrono

suite "timestamps":

  test "time zones basic":
    var zone = findTimeZone("Asia/Novosibirsk")
    check $zone.name == "Asia/Novosibirsk"

    var numChanges = 0
    for change in findDstChanges(findTimeZone("America/Los_Angeles")):
      inc numChanges
    check numChanges > 30

    check calendar(Timestamp(28800.0), tzName = "America/Los_Angeles") == Calendar(year: 1970, month: 1, day: 1, tzOffset: -28800.0, tzName: "America/Los_Angeles", dstName: "PST")

    check formatIso(Timestamp(0.0), tzName = "America/Los_Angeles") == "1969-12-31T16:00:00-08:00"
    check formatIso(Timestamp(28800.0), tzName = "America/Los_Angeles") == "1970-01-01T00:00:00-08:00"
    check formatIso(Timestamp(1510128103.0), tzName = "America/Los_Angeles") == "2017-11-08T00:01:43-08:00"

    check formatIso(Timestamp(1509823680.0), tzName = "America/Los_Angeles") == "2017-11-04T12:28:00-07:00"
    check format(
        Timestamp(1509823680.0),
        "{year}-{month/2}-{day/2} {hour/2}:{minute/2} {tzName}@{dstName}",
        tzName = "America/Los_Angeles"
      ) == "2017-11-04 12:28 America/Los_Angeles@PDT"

    check formatIso(Timestamp(0.0), tzName = "Europe/Riga") == "1970-01-01T03:00:00+03:00"
    check formatIso(Timestamp(0.0), tzName = "Europe/Dublin") == "1970-01-01T01:00:00+01:00"

  test "applyTimezone/clearTimezone":
    var ts = Timestamp(12345678.0)
    var cal = calendar(ts)
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T21:21:18Z"

    cal.applyTimezone("America/Los_Angeles")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T14:21:18-07:00"

    cal.applyTimezone("America/New_York")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T17:21:18-04:00"

    cal.applyTimezone("America/Chicago")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T16:21:18-05:00"

    cal.applyTimezone("Pacific/Honolulu")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T11:21:18-10:00"

    cal.applyTimezone("America/Denver")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T15:21:18-06:00"

    cal.clearTimezone()
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T21:21:18Z"

  test "shiftTimezone":
    var ts = Timestamp(12345678.0)
    var cal = calendar(ts)
    check cal.formatIso() == "1970-05-23T21:21:18Z"

    cal.shiftTimezone("America/Los_Angeles")
    check cal.formatIso() == "1970-05-23T21:21:18-07:00"

    cal.shiftTimezone("America/New_York")
    check cal.formatIso() == "1970-05-23T21:21:18-04:00"

    cal.shiftTimezone("America/Chicago")
    check cal.formatIso() == "1970-05-23T21:21:18-05:00"

    cal.shiftTimezone("Pacific/Honolulu")
    check cal.formatIso() == "1970-05-23T21:21:18-10:00"

    cal.shiftTimezone("America/Denver")
    check cal.formatIso() == "1970-05-23T21:21:18-06:00"

  test "utc test":
    var ts = Timestamp(12345678.0)
    var cal = calendar(ts)
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T21:21:18Z"

    cal.applyTimezone("America/Denver")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T15:21:18-06:00"

    cal.applyTimezone("UTC")
    check cal.ts == ts
    check cal.formatIso() == "1970-05-23T21:21:18Z"

  test "findTimeZoneFromDstName":
    var names = newSeq[string]()
    for tz in findTimeZoneFromDstName("PST"):
      names.add $tz.name
    check names.len > 5


  test "time zones":
    proc testTime(ts: int64, iso: string, tzName: string) =
      check formatIso(Timestamp(float64(ts)), tzName=tzName) == iso

    testTime(1482812940, "2016-12-26T20:29:00-08:00", "America/Los_Angeles")
    testTime(1483347507, "2017-01-02T00:58:27-08:00", "America/Los_Angeles")
    testTime(1489227744, "2017-03-11T02:22:24-08:00", "America/Los_Angeles")
    testTime(1489762311, "2017-03-17T07:51:51-07:00", "America/Los_Angeles")
    testTime(1520610424, "2018-03-09T07:47:04-08:00", "America/Los_Angeles")
    testTime(1521144991, "2018-03-15T13:16:31-07:00", "America/Los_Angeles")
    testTime(1520232630, "2018-03-04T22:50:30-08:00", "America/Los_Angeles")
    testTime(1520767197, "2018-03-11T04:19:57-07:00", "America/Los_Angeles")

    testTime(1482812940, "2016-12-26T23:29:00-05:00", "America/New_York")
    testTime(1483347507, "2017-01-02T03:58:27-05:00", "America/New_York")
    testTime(1489227744, "2017-03-11T05:22:24-05:00", "America/New_York")
    testTime(1489762311, "2017-03-17T10:51:51-04:00", "America/New_York")
    testTime(1520610424, "2018-03-09T10:47:04-05:00", "America/New_York")
    testTime(1521144991, "2018-03-15T16:16:31-04:00", "America/New_York")
    testTime(1520232630, "2018-03-05T01:50:30-05:00", "America/New_York")
    testTime(1520767197, "2018-03-11T07:19:57-04:00", "America/New_York")

    testTime(1482812940, "2016-12-26T22:29:00-06:00", "America/Chicago")
    testTime(1483347507, "2017-01-02T02:58:27-06:00", "America/Chicago")
    testTime(1489227744, "2017-03-11T04:22:24-06:00", "America/Chicago")
    testTime(1489762311, "2017-03-17T09:51:51-05:00", "America/Chicago")
    testTime(1520610424, "2018-03-09T09:47:04-06:00", "America/Chicago")
    testTime(1521144991, "2018-03-15T15:16:31-05:00", "America/Chicago")
    testTime(1520232630, "2018-03-05T00:50:30-06:00", "America/Chicago")
    testTime(1520767197, "2018-03-11T06:19:57-05:00", "America/Chicago")

    testTime(1482812940, "2016-12-26T18:29:00-10:00", "Pacific/Honolulu")
    testTime(1483347507, "2017-01-01T22:58:27-10:00", "Pacific/Honolulu")
    testTime(1489227744, "2017-03-11T00:22:24-10:00", "Pacific/Honolulu")
    testTime(1489762311, "2017-03-17T04:51:51-10:00", "Pacific/Honolulu")
    testTime(1520610424, "2018-03-09T05:47:04-10:00", "Pacific/Honolulu")
    testTime(1521144991, "2018-03-15T10:16:31-10:00", "Pacific/Honolulu")
    testTime(1520232630, "2018-03-04T20:50:30-10:00", "Pacific/Honolulu")
    testTime(1520767197, "2018-03-11T01:19:57-10:00", "Pacific/Honolulu")

    testTime(1482812940, "2016-12-26T19:29:00-09:00", "America/Anchorage")
    testTime(1483347507, "2017-01-01T23:58:27-09:00", "America/Anchorage")
    testTime(1489227744, "2017-03-11T01:22:24-09:00", "America/Anchorage")
    testTime(1489762311, "2017-03-17T06:51:51-08:00", "America/Anchorage")
    testTime(1520610424, "2018-03-09T06:47:04-09:00", "America/Anchorage")
    testTime(1521144991, "2018-03-15T12:16:31-08:00", "America/Anchorage")
    testTime(1520232630, "2018-03-04T21:50:30-09:00", "America/Anchorage")
    testTime(1520767197, "2018-03-11T03:19:57-08:00", "America/Anchorage")

    testTime(1482812940, "2016-12-26T21:29:00-07:00", "America/Denver")
    testTime(1483347507, "2017-01-02T01:58:27-07:00", "America/Denver")
    testTime(1489227744, "2017-03-11T03:22:24-07:00", "America/Denver")
    testTime(1489762311, "2017-03-17T08:51:51-06:00", "America/Denver")
    testTime(1520610424, "2018-03-09T08:47:04-07:00", "America/Denver")
    testTime(1521144991, "2018-03-15T14:16:31-06:00", "America/Denver")
    testTime(1520232630, "2018-03-04T23:50:30-07:00", "America/Denver")
    testTime(1520767197, "2018-03-11T05:19:57-06:00", "America/Denver")




  test "time zones random":
    proc testTime(ts: int64, iso: string, tzName: string) =
      var isoGen = formatIso(Timestamp(float64(ts)), tzName=tzName)
      if isoGen != iso:
        echo "---", tzName
        echo "norm: ", calendar(Timestamp(float64(ts)))
        echo "want: ", iso
        echo "have: ", isoGen
        fail()
        quit()

    testTime(0, "1970-01-01T11:00:00+11:00", "Antarctica/Macquarie")
    testTime(2345671, "1970-01-27T22:34:31-05:00", "America/Jamaica")
    testTime(4691342, "1970-02-23T23:09:02-08:00", "America/Los_Angeles")
    testTime(9382684, "1970-04-19T09:18:04-05:00", "America/Indiana/Marengo")
    testTime(11728355, "1970-05-16T15:52:35-02:00", "America/Noronha")
    testTime(14074026, "1970-06-13T05:27:06+08:00", "Asia/Brunei")
    testTime(18765368, "1970-08-06T07:36:08+03:00", "Indian/Antananarivo")
    testTime(21111039, "1970-09-02T18:10:39+10:00", "Antarctica/Macquarie")
    testTime(23456710, "1970-09-29T05:45:10-06:00", "America/Managua")
    testTime(25802381, "1970-10-26T09:19:41-06:00", "America/Chicago")
    testTime(28148052, "1970-11-22T23:54:12+05:00", "Asia/Oral")
    testTime(30493723, "1970-12-19T13:28:43-09:00", "America/Dawson")
    testTime(32839394, "1971-01-15T21:03:14-05:00", "America/Eirunepe")
    testTime(35185065, "1971-02-11T21:37:45-08:00", "America/Tijuana")
    testTime(37530736, "1971-03-11T05:12:16-04:00", "America/Kralendijk")
    testTime(39876407, "1971-04-07T16:46:47+04:00", "Indian/Mahe")
    testTime(42222078, "1971-05-04T10:21:18-06:00", "America/Rankin_Inlet")
    testTime(44567749, "1971-06-01T00:55:49+05:00", "Asia/Ashgabat")
    testTime(46913420, "1971-06-28T08:30:20+09:00", "Asia/Khandyga")
    testTime(49259091, "1971-07-25T06:04:51+03:00", "Asia/Damascus")
    testTime(51604762, "1971-08-21T03:39:22-03:00", "America/Argentina/Salta")
    testTime(53950433, "1971-09-16T22:13:53-12:00", "Pacific/Kwajalein")
    testTime(56296104, "1971-10-14T15:48:24+02:00", "Asia/Famagusta")
    testTime(58641775, "1971-11-10T08:22:55-09:00", "America/Dawson")
    testTime(60987446, "1971-12-08T07:57:26+11:00", "Australia/Sydney")
    testTime(63333117, "1972-01-04T01:31:57+01:00", "Europe/Rome")
    testTime(68024459, "1972-02-27T03:40:59-04:00", "America/Caracas")
    testTime(70370130, "1972-03-25T05:15:30-06:00", "America/Chihuahua")
    testTime(72715801, "1972-04-22T00:50:01+10:00", "Antarctica/DumontDUrville")
    testTime(75061472, "1972-05-18T19:24:32+01:00", "Africa/Brazzaville")
    testTime(77407143, "1972-06-14T11:59:03-10:00", "Pacific/Honolulu")
    testTime(79752814, "1972-07-12T02:33:34+01:00", "Europe/Budapest")
    testTime(82098485, "1972-08-08T06:08:05+01:00", "Europe/Ljubljana")
    testTime(84444156, "1972-09-04T13:42:36+05:00", "Indian/Chagos")
    testTime(86789827, "1972-10-01T13:17:07+01:00", "Europe/London")
    testTime(89135498, "1972-10-28T16:51:38+01:00", "Europe/Copenhagen")
    testTime(91481169, "1972-11-24T20:26:09+01:00", "Europe/Vienna")
    testTime(93826840, "1972-12-21T17:00:40-06:00", "America/Mexico_City")
    testTime(96172511, "1973-01-17T22:35:11-04:00", "America/Glace_Bay")
    testTime(98518182, "1973-02-14T01:09:42-05:00", "America/Kentucky/Louisville")
    testTime(100863853, "1973-03-13T10:44:13+01:00", "Africa/Libreville")
    testTime(103209524, "1973-04-09T17:18:44+04:00", "Asia/Tbilisi")
    testTime(105555195, "1973-05-06T19:53:15+03:00", "Africa/Djibouti")
    testTime(107900866, "1973-06-02T21:27:46+01:00", "Europe/Ljubljana")
    testTime(110246537, "1973-06-29T19:02:17-05:00", "America/Indiana/Winamac")
    testTime(112592208, "1973-07-27T07:36:48+04:00", "Indian/Reunion")
    testTime(114937879, "1973-08-22T21:11:19-10:00", "Pacific/Honolulu")
    testTime(117283550, "1973-09-19T19:30:50+08:45", "Australia/Eucla")
    testTime(119629221, "1973-10-16T11:20:21-03:00", "America/Cayenne")
    testTime(121974892, "1973-11-12T13:54:52-04:00", "America/Thule")
    testTime(124320563, "1973-12-09T18:29:23-03:00", "America/Argentina/Tucuman")
    testTime(126666234, "1974-01-05T20:03:54-05:00", "America/Nipigon")
    testTime(129011905, "1974-02-02T08:38:25+04:00", "Asia/Dubai")
    testTime(131357576, "1974-03-01T16:12:56+08:00", "Asia/Shanghai")
    testTime(133703247, "1974-03-28T07:47:27-04:00", "America/Kralendijk")
    testTime(136048918, "1974-04-24T21:21:58+06:00", "Asia/Dushanbe")
    testTime(138394589, "1974-05-21T20:56:29+02:00", "Europe/Athens")
    testTime(143085931, "1974-07-15T08:05:31+06:00", "Antarctica/Mawson")
    testTime(145431602, "1974-08-11T12:40:02+07:00", "Asia/Ulaanbaatar")
    testTime(147777273, "1974-09-07T16:14:33+07:00", "Asia/Bangkok")
    testTime(150122944, "1974-10-04T05:49:04-07:00", "Pacific/Easter")
    testTime(152468615, "1974-10-31T13:23:35-03:00", "America/Argentina/Buenos_Aires")
    testTime(154814286, "1974-11-27T16:58:06-03:00", "America/Recife")
    testTime(157159957, "1974-12-25T02:32:37+03:00", "Europe/Vilnius")
    testTime(159505628, "1975-01-21T07:07:08+04:00", "Asia/Yerevan")
    testTime(161851299, "1975-02-17T08:41:39+02:00", "Africa/Harare")
    testTime(164196970, "1975-03-16T07:16:10-03:00", "America/Argentina/Buenos_Aires")
    testTime(166542641, "1975-04-12T11:50:41-02:00", "Atlantic/Cape_Verde")
    testTime(168888312, "1975-05-09T10:25:12-07:00", "America/Phoenix")
    testTime(171233983, "1975-06-05T15:59:43-05:00", "America/Cayman")
    testTime(173579654, "1975-07-02T20:34:14-04:00", "America/St_Kitts")
    testTime(175925325, "1975-07-30T01:08:45-03:00", "Antarctica/Palmer")
    testTime(178270996, "1975-08-26T12:13:16+04:30", "Asia/Kabul")
    testTime(180616667, "1975-09-22T16:17:47+05:00", "Asia/Qyzylorda")
    testTime(182962338, "1975-10-19T11:52:18-03:00", "America/Guyana")
    testTime(185308009, "1975-11-15T19:26:49+01:00", "Africa/Brazzaville")
    testTime(187653680, "1975-12-12T23:01:20+01:00", "Europe/Skopje")
    testTime(189999351, "1976-01-08T19:35:51-06:00", "America/Mexico_City")
    testTime(192345022, "1976-02-05T16:10:22+11:00", "Australia/Currie")
    testTime(194690693, "1976-03-03T00:44:53-08:00", "America/Metlakatla")
    testTime(197036364, "1976-03-30T12:19:24+00:00", "Antarctica/Troll")
    testTime(201727706, "1976-05-23T12:28:26-07:00", "America/Metlakatla")
    testTime(204073377, "1976-06-19T12:02:57-11:00", "Pacific/Pago_Pago")
    testTime(208764719, "1976-08-12T23:11:59-07:00", "America/Bahia_Banderas")
    testTime(211110390, "1976-09-09T04:46:30-05:00", "America/Indiana/Winamac")
    testTime(213456061, "1976-10-06T07:21:01-06:00", "America/Regina")
    testTime(215801732, "1976-11-02T12:55:32-04:00", "America/Montserrat")
    testTime(218147403, "1976-11-29T12:30:03-08:00", "America/Tijuana")
    testTime(220493074, "1976-12-27T07:04:34+07:00", "Asia/Novokuznetsk")
    testTime(222838745, "1977-01-23T12:39:05+09:00", "Asia/Yakutsk")
    testTime(225184416, "1977-02-19T08:13:36+01:00", "Europe/Skopje")
    testTime(227530087, "1977-03-18T18:48:07+08:00", "Asia/Kuching")
    testTime(229875758, "1977-04-14T17:22:38+03:00", "Africa/Mogadishu")
    testTime(232221429, "1977-05-11T13:57:09-04:00", "America/Barbados")
    testTime(234567100, "1977-06-07T17:31:40-04:00", "America/Santo_Domingo")
    testTime(236912771, "1977-07-05T09:06:11+08:00", "Asia/Irkutsk")
    testTime(239258442, "1977-08-01T00:40:42-04:00", "America/Pangnirtung")
    testTime(241604113, "1977-08-28T11:15:13+03:00", "Europe/Istanbul")
    testTime(243949784, "1977-09-24T21:49:44+10:00", "Australia/Hobart")
    testTime(246295455, "1977-10-21T17:24:15+02:00", "Europe/Sofia")
    testTime(248641126, "1977-11-17T18:58:46+00:00", "Africa/Conakry")
    testTime(250986797, "1977-12-14T23:33:17+01:00", "Africa/Ndjamena")
    testTime(253332468, "1978-01-11T02:07:48+00:00", "Africa/Sao_Tome")
    testTime(255678139, "1978-02-07T00:42:19-05:00", "America/Indiana/Indianapolis")
    testTime(258023810, "1978-03-06T22:16:50+13:00", "Asia/Anadyr")
    testTime(262715152, "1978-04-29T09:25:52-07:00", "America/Yellowknife")
    testTime(265060823, "1978-05-26T20:00:23+00:00", "Atlantic/Reykjavik")
    testTime(267406494, "1978-06-23T00:34:54+01:00", "Atlantic/Madeira")
    testTime(269752165, "1978-07-20T12:09:25+09:00", "Asia/Tokyo")
    testTime(272097836, "1978-08-16T12:43:56+06:00", "Asia/Dushanbe")
    testTime(274443507, "1978-09-12T11:18:27+01:00", "Africa/Douala")
    testTime(276789178, "1978-10-09T13:52:58+00:00", "Europe/Lisbon")
    testTime(279134849, "1978-11-06T00:57:29+07:30", "Asia/Kuala_Lumpur")
    testTime(281480520, "1978-12-02T22:02:00+01:00", "Europe/Madrid")
    testTime(283826191, "1978-12-30T01:36:31+01:00", "Africa/Malabo")
    testTime(286171862, "1979-01-26T04:11:02+00:00", "Africa/Freetown")
    testTime(288517533, "1979-02-22T03:45:33-04:00", "America/Martinique")
    testTime(290863204, "1979-03-21T08:20:04-03:00", "America/Danmarkshavn")
    testTime(293208875, "1979-04-18T02:54:35+12:00", "Asia/Kamchatka")
    testTime(295554546, "1979-05-15T02:29:06+08:00", "Asia/Brunei")
    testTime(300245888, "1979-07-07T18:38:08-07:00", "America/Tijuana")
    testTime(302591559, "1979-08-04T05:12:39+00:00", "Atlantic/St_Helena")
    testTime(304937230, "1979-08-31T01:47:10-07:00", "America/Los_Angeles")
    testTime(307282901, "1979-09-27T16:21:41+04:00", "Indian/Reunion")
    testTime(309628572, "1979-10-24T16:56:12+01:00", "Europe/Belgrade")
    testTime(311974243, "1979-11-20T20:30:43+01:00", "Europe/Gibraltar")
    testTime(314319914, "1979-12-17T18:05:14-05:00", "America/Nipigon")
    testTime(316665585, "1980-01-13T20:39:45-06:00", "America/Managua")
    testTime(319011256, "1980-02-10T17:14:16+11:00", "Australia/Melbourne")
    testTime(321356927, "1980-03-08T06:48:47-03:00", "America/Belem")
    testTime(323702598, "1980-04-04T15:23:18+02:00", "Europe/Bucharest")
    testTime(326048269, "1980-05-01T12:57:49-04:00", "America/Blanc-Sablon")
    testTime(328393940, "1980-05-28T22:32:20+02:00", "Asia/Damascus")
    testTime(330739611, "1980-06-25T00:06:51+00:00", "Africa/El_Aaiun")
    testTime(333085282, "1980-07-22T06:41:22+03:00", "Asia/Baghdad")
    testTime(335430953, "1980-08-18T14:45:53+07:30", "Asia/Kuala_Lumpur")
    testTime(337776624, "1980-09-14T06:50:24-04:00", "America/Santarem")
    testTime(340122295, "1980-10-11T11:24:55-03:00", "America/Argentina/Ushuaia")
    testTime(342467966, "1980-11-08T00:59:26+07:00", "Asia/Bangkok")
    testTime(344813637, "1980-12-04T23:33:57+02:00", "Asia/Nicosia")
    testTime(347159308, "1981-01-01T05:08:28+04:00", "Indian/Mahe")
    testTime(351850650, "1981-02-24T04:17:30-04:00", "America/St_Kitts")
    testTime(354196321, "1981-03-23T06:52:01-05:00", "America/New_York")
    testTime(358887663, "1981-05-17T01:01:03+06:00", "Asia/Ashgabat")
    testTime(361233334, "1981-06-13T02:35:34+04:00", "Europe/Chisinau")
    testTime(363579005, "1981-07-10T02:10:05+00:00", "Africa/Nouakchott")
    testTime(365924676, "1981-08-05T23:44:36-06:00", "America/Yellowknife")
    testTime(368270347, "1981-09-02T11:19:07+02:00", "Europe/Tirane")
    testTime(370616018, "1981-09-30T00:53:38+12:00", "Pacific/Auckland")
    testTime(372961689, "1981-10-26T19:28:09+03:00", "Indian/Antananarivo")
    testTime(375307360, "1981-11-22T21:02:40+01:00", "Africa/Kinshasa")
    testTime(377653031, "1981-12-19T22:37:11-01:00", "America/Scoresbysund")
    testTime(379998702, "1982-01-15T23:11:42-04:00", "America/Grenada")
    testTime(384690044, "1982-03-11T11:20:44+01:00", "Europe/Paris")
    testTime(387035715, "1982-04-08T01:55:15+12:00", "Antarctica/McMurdo")
    testTime(389381386, "1982-05-04T13:29:46-04:00", "Atlantic/Stanley")
    testTime(391727057, "1982-05-31T18:04:17-03:00", "America/Glace_Bay")
    testTime(394072728, "1982-06-28T12:38:48+12:00", "Pacific/Nauru")
    testTime(396418399, "1982-07-25T08:13:19+04:00", "Europe/Riga")
    testTime(398764070, "1982-08-21T02:47:50-05:00", "America/Panama")
    testTime(401109741, "1982-09-17T18:22:21+07:00", "Asia/Omsk")
    testTime(403455412, "1982-10-14T03:56:52-11:00", "Pacific/Pago_Pago")
    testTime(405801083, "1982-11-10T15:31:23-03:00", "America/Argentina/Jujuy")
    testTime(408146754, "1982-12-08T05:05:54+07:00", "Asia/Bangkok")
    testTime(410492425, "1983-01-04T06:40:25+05:00", "Indian/Maldives")
    testTime(412838096, "1983-01-31T14:14:56+09:00", "Asia/Pyongyang")
    testTime(415183767, "1983-02-27T05:49:27-03:00", "America/Argentina/San_Luis")
    testTime(417529438, "1983-03-26T17:23:58+05:00", "Indian/Maldives")
    testTime(419875109, "1983-04-23T04:58:29+13:00", "Pacific/Tongatapu")
    testTime(422220780, "1983-05-20T00:33:00+05:00", "Europe/Astrakhan")
    testTime(424566451, "1983-06-15T20:07:31-03:00", "America/Argentina/Ushuaia")
    testTime(426912122, "1983-07-12T19:42:02-07:00", "America/Metlakatla")
    testTime(429257793, "1983-08-09T07:16:33+01:00", "Africa/Malabo")
    testTime(431603464, "1983-09-05T11:51:04+02:00", "Europe/Tirane")
    testTime(433949135, "1983-10-02T22:10:35+08:45", "Australia/Eucla")
    testTime(436294806, "1983-10-29T12:00:06-05:00", "America/Cancun")
    testTime(438640477, "1983-11-25T22:34:37+02:00", "Asia/Jerusalem")
    testTime(440986148, "1983-12-23T02:09:08+02:00", "Europe/Bucharest")
    testTime(443331819, "1984-01-19T13:28:39+09:45", "Australia/Eucla")
    testTime(445677490, "1984-02-15T11:18:10+04:00", "Indian/Mauritius")
    testTime(448023161, "1984-03-13T05:52:41-05:00", "America/Detroit")
    testTime(450368832, "1984-04-09T16:27:12+02:00", "Europe/Zurich")
    testTime(452714503, "1984-05-06T14:01:43-04:00", "Antarctica/Palmer")
    testTime(455060174, "1984-06-02T17:36:14-04:00", "America/Porto_Velho")
    testTime(457405845, "1984-06-30T03:10:45+02:00", "Africa/Harare")
    testTime(459751516, "1984-07-27T09:45:16+05:00", "Asia/Baku")
    testTime(462097187, "1984-08-23T02:19:47-06:00", "America/Tegucigalpa")
    testTime(464442858, "1984-09-19T17:54:18+06:00", "Asia/Yekaterinburg")
    testTime(466788529, "1984-10-16T11:28:49-04:00", "America/Montserrat")
    testTime(469134200, "1984-11-13T03:03:20+08:00", "Asia/Pontianak")
    testTime(471479871, "1984-12-10T01:37:51+03:00", "Africa/Mogadishu")
    testTime(473825542, "1985-01-06T02:12:22+00:00", "Europe/Jersey")
    testTime(476171213, "1985-02-01T20:46:53-09:00", "America/Yakutat")
    testTime(478516884, "1985-03-01T14:51:24+05:30", "Asia/Kolkata")
    testTime(480862555, "1985-03-28T07:55:55-05:00", "America/Guayaquil")
    testTime(483208226, "1985-04-24T09:30:26-07:00", "America/Mazatlan")
    testTime(485553897, "1985-05-21T16:04:57-04:00", "America/Barbados")
    testTime(487899568, "1985-06-18T07:39:28+08:00", "Asia/Novokuznetsk")
    testTime(490245239, "1985-07-15T00:13:59-03:00", "America/Pangnirtung")
    testTime(492590910, "1985-08-11T00:48:30-06:00", "America/Chihuahua")
    testTime(494936581, "1985-09-07T06:23:01-04:00", "America/St_Lucia")
    testTime(497282252, "1985-10-04T17:57:32+04:00", "Asia/Tbilisi")
    testTime(499627923, "1985-11-01T03:32:03+10:00", "Pacific/Bougainville")
    testTime(501973594, "1985-11-27T23:06:34+02:00", "Europe/Bucharest")
    testTime(504319265, "1985-12-24T20:41:05-04:00", "America/Grenada")
    testTime(506664936, "1986-01-21T13:15:36+09:00", "Asia/Pyongyang")
    testTime(509010607, "1986-02-16T22:50:07-09:00", "America/Sitka")
    testTime(511356278, "1986-03-16T00:24:38-11:00", "Pacific/Apia")
    testTime(513701949, "1986-04-12T11:59:09-03:00", "America/Sao_Paulo")
    testTime(516047620, "1986-05-09T13:33:40-05:00", "America/Indiana/Petersburg")
    testTime(518393291, "1986-06-05T17:08:11-05:00", "America/Kentucky/Monticello")
    testTime(520738962, "1986-07-03T11:12:42+09:30", "Australia/Adelaide")
    testTime(523084633, "1986-07-30T09:17:13+04:00", "Europe/Tallinn")
    testTime(525430304, "1986-08-26T09:51:44+01:00", "Africa/Algiers")
    testTime(527775975, "1986-09-22T16:26:15+04:00", "Europe/Zaporozhye")
    testTime(530121646, "1986-10-19T11:00:46-05:00", "America/Kentucky/Monticello")
    testTime(532467317, "1986-11-15T15:35:17-04:00", "America/Tortola")
    testTime(534812988, "1986-12-12T23:09:48+00:00", "Africa/Monrovia")
    testTime(537158659, "1987-01-09T02:44:19+00:00", "Atlantic/Faroe")
    testTime(539504330, "1987-02-05T09:18:50+03:00", "Antarctica/Syowa")
    testTime(541850001, "1987-03-04T13:53:21+04:00", "Asia/Dubai")
    testTime(544195672, "1987-03-31T14:27:52+01:00", "Africa/Lagos")
    testTime(546541343, "1987-04-27T11:02:23-06:00", "America/North_Dakota/Beulah")
    testTime(548887014, "1987-05-24T15:36:54-05:00", "America/Winnipeg")
    testTime(551232685, "1987-06-21T02:11:25+02:00", "Europe/Vatican")
    testTime(553578356, "1987-07-18T04:45:56+01:00", "Africa/Niamey")
    testTime(555924027, "1987-08-14T03:20:27-04:00", "America/Montserrat")
    testTime(558269698, "1987-09-10T20:54:58+10:00", "Australia/Lindeman")
    testTime(560615369, "1987-10-07T10:29:29-04:00", "America/Antigua")
    testTime(562961040, "1987-11-03T20:04:00+02:00", "Africa/Cairo")
    testTime(565306711, "1987-11-30T14:38:31-07:00", "America/Boise")
    testTime(567652382, "1987-12-28T09:13:02+08:00", "Asia/Hong_Kong")
    testTime(569998053, "1988-01-24T13:47:33+09:00", "Asia/Choibalsan")
    testTime(572343724, "1988-02-20T14:22:04+06:00", "Asia/Tashkent")
    testTime(577035066, "1988-04-14T10:31:06-05:00", "America/Atikokan")
    testTime(579380737, "1988-05-12T00:05:37+05:00", "Indian/Maldives")
    testTime(581726408, "1988-06-07T19:40:08-03:00", "America/Fortaleza")
    testTime(584072079, "1988-07-05T10:14:39+08:00", "Australia/Perth")
    testTime(586417750, "1988-08-01T07:49:10+02:00", "Europe/Sarajevo")
    testTime(588763421, "1988-08-28T06:23:41-03:00", "America/Argentina/San_Luis")
    testTime(591109092, "1988-09-24T20:58:12+08:00", "Asia/Kuala_Lumpur")
    testTime(593454763, "1988-10-21T10:32:43-06:00", "America/Cambridge_Bay")
    testTime(595800434, "1988-11-17T12:07:14-08:00", "America/Fort_Nelson")
    testTime(598146105, "1988-12-15T01:41:45+02:00", "Europe/Bucharest")
    testTime(600491776, "1989-01-11T13:46:16+10:30", "Australia/Adelaide")
    testTime(602837447, "1989-02-07T07:50:47+01:00", "Europe/Busingen")
    testTime(605183118, "1989-03-06T11:25:18+01:00", "Europe/Warsaw")
    testTime(609874460, "1989-04-29T08:34:20-09:00", "Pacific/Gambier")
    testTime(612220131, "1989-05-26T18:38:51-02:30", "America/St_Johns")
    testTime(614565802, "1989-06-22T19:43:22-05:00", "America/Indiana/Winamac")
    testTime(616911473, "1989-07-20T01:17:53-03:00", "America/Fortaleza")
    testTime(621602815, "1989-09-12T14:26:55+03:00", "Indian/Comoro")
    testTime(623948486, "1989-10-09T16:01:26+01:00", "Europe/Stockholm")
    testTime(626294157, "1989-11-06T01:35:57+07:00", "Asia/Jakarta")
    testTime(628639828, "1989-12-02T20:10:28-02:00", "America/Argentina/Mendoza")
    testTime(630985499, "1989-12-30T10:44:59+09:00", "Asia/Yakutsk")
    testTime(633331170, "1990-01-26T00:19:30-05:00", "America/Nassau")
    testTime(635676841, "1990-02-22T01:54:01-07:00", "America/Cambridge_Bay")
    testTime(638022512, "1990-03-21T07:28:32-05:00", "America/Toronto")
    testTime(640368183, "1990-04-18T03:03:03+11:00", "Pacific/Guadalcanal")
    testTime(642713854, "1990-05-14T14:37:34-05:00", "America/Indiana/Vevay")
    testTime(645059525, "1990-06-11T05:12:05+06:00", "Asia/Qyzylorda")
    testTime(647405196, "1990-07-08T05:46:36+03:00", "Asia/Aden")
    testTime(649750867, "1990-08-04T13:21:07+07:00", "Asia/Tashkent")
    testTime(652096538, "1990-08-31T11:55:38+02:00", "Europe/Warsaw")
    testTime(654442209, "1990-09-27T21:30:09+08:00", "Asia/Dili")
    testTime(656787880, "1990-10-24T09:04:40-08:00", "America/Yakutat")
    testTime(659133551, "1990-11-20T13:39:11-07:00", "America/Edmonton")
    testTime(661479222, "1990-12-18T01:13:42+01:00", "Africa/Tunis")
    testTime(663824893, "1991-01-14T04:48:13+01:00", "Europe/Gibraltar")
    testTime(666170564, "1991-02-10T00:22:44-07:00", "America/Bahia_Banderas")
    testTime(668516235, "1991-03-09T07:57:15-03:00", "America/Argentina/Ushuaia")
    testTime(670861906, "1991-04-05T19:31:46+05:00", "Asia/Atyrau")
    testTime(673207577, "1991-05-02T20:06:17+02:00", "Europe/Vienna")
    testTime(675553248, "1991-05-29T21:40:48+00:00", "Africa/Monrovia")
    testTime(677898919, "1991-06-26T03:15:19+02:00", "Europe/Andorra")
    testTime(680244590, "1991-07-22T23:49:50-05:00", "America/Winnipeg")
    testTime(682590261, "1991-08-19T21:24:21+13:00", "Pacific/Tongatapu")
    testTime(684935932, "1991-09-15T13:58:52+02:00", "Arctic/Longyearbyen")
    testTime(687281603, "1991-10-12T17:33:23+02:00", "Africa/Lubumbashi")
    testTime(689627274, "1991-11-08T21:07:54+02:00", "Asia/Gaza")
    testTime(694318616, "1992-01-02T04:16:56+02:00", "Asia/Hebron")
    testTime(696664287, "1992-01-29T08:51:27+03:00", "Asia/Aden")
    testTime(699009958, "1992-02-25T10:25:58+01:00", "Europe/Prague")
    testTime(701355629, "1992-03-23T17:00:29+04:00", "Europe/Saratov")
    testTime(703701300, "1992-04-19T10:35:00-06:00", "America/Boise")
    testTime(706046971, "1992-05-16T16:09:31-04:00", "America/Campo_Grande")
    testTime(708392642, "1992-06-13T00:44:02+01:00", "Europe/Jersey")
    testTime(713083984, "1992-08-06T07:53:04+01:00", "Europe/Guernsey")
    testTime(715429655, "1992-09-02T14:57:35+04:30", "Asia/Kabul")
    testTime(717775326, "1992-09-29T08:02:06-06:00", "America/Guatemala")
    testTime(720120997, "1992-10-26T15:36:37-02:00", "America/Bahia")
    testTime(722466668, "1992-11-22T23:11:08+02:00", "Africa/Johannesburg")
    testTime(724812339, "1992-12-20T05:45:39+05:00", "Asia/Bishkek")
    testTime(727158010, "1993-01-16T14:20:10+10:00", "Asia/Vladivostok")
    testTime(729503681, "1993-02-11T21:54:41-10:00", "Pacific/Honolulu")
    testTime(731849352, "1993-03-11T01:29:12-10:00", "Pacific/Kiritimati")
    testTime(734195023, "1993-04-07T17:03:43+02:00", "Africa/Johannesburg")
    testTime(736540694, "1993-05-04T14:38:14-04:00", "Antarctica/Palmer")
    testTime(738886365, "1993-06-01T02:12:45+04:00", "Europe/Astrakhan")
    testTime(741232036, "1993-06-27T21:47:16-04:00", "America/Punta_Arenas")
    testTime(743577707, "1993-07-25T05:21:47+00:00", "Atlantic/Reykjavik")
    testTime(745923378, "1993-08-21T02:56:18-06:00", "America/Boise")
    testTime(748269049, "1993-09-17T12:30:49+00:00", "Atlantic/Reykjavik")
    testTime(750614720, "1993-10-14T13:05:20-03:00", "America/Argentina/Jujuy")
    testTime(752960391, "1993-11-10T21:39:51+02:00", "Africa/Windhoek")
    testTime(755306062, "1993-12-08T00:14:22+01:00", "Europe/Skopje")
    testTime(757651733, "1994-01-04T02:48:53+00:00", "Europe/Guernsey")
    testTime(759997404, "1994-01-31T03:23:24-03:00", "Antarctica/Palmer")
    testTime(762343075, "1994-02-27T20:57:55+11:00", "Asia/Magadan")
    testTime(764688746, "1994-03-26T08:32:26-05:00", "America/Guayaquil")
    testTime(767034417, "1994-04-22T13:06:57-04:00", "America/Barbados")
    testTime(769380088, "1994-05-20T07:41:28+11:00", "Pacific/Efate")
    testTime(771725759, "1994-06-16T10:15:59+10:00", "Pacific/Guam")
    testTime(774071430, "1994-07-13T00:50:30-03:00", "America/Paramaribo")
    testTime(776417101, "1994-08-09T20:25:01+13:00", "Asia/Kamchatka")
    testTime(778762772, "1994-09-05T13:59:32+03:00", "Africa/Cairo")
    testTime(781108443, "1994-10-02T22:34:03+08:00", "Asia/Kuala_Lumpur")
    testTime(783454114, "1994-10-29T12:08:34-06:00", "America/North_Dakota/New_Salem")
    testTime(785799785, "1994-11-25T17:43:05-04:00", "America/Aruba")
    testTime(788145456, "1994-12-22T20:17:36-05:00", "America/Grand_Turk")
    testTime(790491127, "1995-01-19T06:52:07+02:00", "Europe/Vilnius")
    testTime(792836798, "1995-02-14T22:56:38-09:30", "Pacific/Marquesas")
    testTime(795182469, "1995-03-14T05:01:09-07:00", "America/Phoenix")
    testTime(797528140, "1995-04-10T16:35:40+01:00", "Africa/Ndjamena")
    testTime(799873811, "1995-05-07T15:10:11-04:00", "America/Tortola")
    testTime(802219482, "1995-06-03T22:44:42+00:00", "Africa/Accra")
    testTime(804565153, "1995-07-01T05:19:13+03:00", "Indian/Mayotte")
    testTime(806910824, "1995-07-28T13:53:44+08:00", "Asia/Hong_Kong")
    testTime(809256495, "1995-08-24T15:58:15+06:30", "Asia/Yangon")
    testTime(811602166, "1995-09-20T17:02:46+04:00", "Indian/Mauritius")
    testTime(813947837, "1995-10-17T12:37:17-04:00", "America/Antigua")
    testTime(816293508, "1995-11-13T14:11:48-06:00", "America/Winnipeg")
    testTime(818639179, "1995-12-10T18:46:19-05:00", "America/Indiana/Vincennes")
    testTime(820984850, "1996-01-07T05:20:50+02:00", "Africa/Lubumbashi")
    testTime(823330521, "1996-02-03T07:55:21+01:00", "Africa/Niamey")
    testTime(825676192, "1996-03-01T21:29:52+11:00", "Australia/Currie")
    testTime(830367534, "1996-04-25T02:38:54+09:00", "Asia/Seoul")
    testTime(832713205, "1996-05-21T18:13:25-03:00", "America/Moncton")
    testTime(835058876, "1996-06-18T05:47:56+05:00", "Indian/Kerguelen")
    testTime(837404547, "1996-07-14T20:22:27-08:00", "America/Yakutat")
    testTime(839750218, "1996-08-11T10:56:58+03:00", "Indian/Comoro")
    testTime(842095889, "1996-09-07T20:31:29+09:00", "Asia/Ulaanbaatar")
    testTime(844441560, "1996-10-04T22:06:00+07:00", "Asia/Novosibirsk")
    testTime(846787231, "1996-10-31T11:40:31-07:00", "America/Denver")
    testTime(849132902, "1996-11-27T22:15:02+00:00", "Africa/Casablanca")
    testTime(851478573, "1996-12-25T02:49:33+01:00", "Africa/Bangui")
    testTime(853824244, "1997-01-21T13:24:04+08:00", "Antarctica/Casey")
    testTime(856169915, "1997-02-17T09:58:35+01:00", "Europe/Tirane")
    testTime(858515586, "1997-03-16T13:33:06+01:00", "Arctic/Longyearbyen")
    testTime(860861257, "1997-04-13T02:07:37+10:00", "Australia/Lindeman")
    testTime(865552599, "1997-06-05T18:16:39-05:00", "America/Eirunepe")
    testTime(867898270, "1997-07-03T02:51:10+00:00", "Africa/Bamako")
    testTime(870243941, "1997-07-30T08:25:41+02:00", "Europe/Oslo")
    testTime(872589612, "1997-08-27T00:00:12+14:00", "Pacific/Kiritimati")
    testTime(874935283, "1997-09-22T09:34:43-04:00", "America/Martinique")
    testTime(877280954, "1997-10-19T20:09:14+03:00", "Europe/Athens")
    testTime(879626625, "1997-11-15T23:43:45+03:00", "Africa/Addis_Ababa")
    testTime(884317967, "1998-01-09T06:52:47+03:00", "Africa/Dar_es_Salaam")
    testTime(886663638, "1998-02-05T08:27:18+01:00", "Europe/Busingen")
    testTime(889009309, "1998-03-04T05:01:49-06:00", "America/Guatemala")
    testTime(891354980, "1998-03-31T07:36:20-07:00", "America/Yellowknife")
    testTime(893700651, "1998-04-27T20:10:51+02:00", "Africa/Lubumbashi")
    testTime(896046322, "1998-05-24T23:45:22+02:00", "Europe/Amsterdam")
    testTime(898391993, "1998-06-20T14:19:53-11:00", "Pacific/Fakaofo")
    testTime(900737664, "1998-07-18T00:54:24-04:00", "America/Punta_Arenas")
    testTime(903083335, "1998-08-14T04:28:55-04:00", "America/Boa_Vista")
    testTime(907774677, "1998-10-07T21:37:57+06:00", "Asia/Atyrau")
    testTime(910120348, "1998-11-03T22:12:28+03:00", "Europe/Saratov")
    testTime(912466019, "1998-11-30T18:46:59-04:00", "America/St_Vincent")
    testTime(914811690, "1998-12-27T20:21:30-06:00", "America/Costa_Rica")
    testTime(917157361, "1999-01-24T01:56:01-04:00", "America/La_Paz")
    testTime(919503032, "1999-02-20T04:30:32-05:00", "America/Thunder_Bay")
    testTime(921848703, "1999-03-19T08:05:03-05:00", "America/Indiana/Vincennes")
    testTime(924194374, "1999-04-15T16:39:34+00:00", "Africa/Sao_Tome")
    testTime(926540045, "1999-05-12T13:14:05-07:00", "America/Hermosillo")
    testTime(928885716, "1999-06-08T23:48:36+00:00", "Atlantic/St_Helena")
    testTime(931231387, "1999-07-06T00:23:07-03:00", "America/Argentina/Jujuy")
    testTime(933577058, "1999-08-02T18:57:38+12:00", "Asia/Magadan")
    testTime(935922729, "1999-08-29T12:32:09+02:00", "Africa/Lubumbashi")
    testTime(938268400, "1999-09-25T17:06:40+03:00", "Europe/Kaliningrad")
    testTime(940614071, "1999-10-22T19:41:11+02:00", "Europe/Skopje")
    testTime(942959742, "1999-11-19T00:15:42+03:00", "Antarctica/Syowa")
    testTime(945305413, "1999-12-15T21:50:13-03:00", "America/Miquelon")
    testTime(947651084, "2000-01-12T00:24:44-04:00", "America/Caracas")
    testTime(949996755, "2000-02-08T01:59:15-06:00", "America/Chicago")
    testTime(952342426, "2000-03-06T06:33:46-05:00", "America/Port-au-Prince")
    testTime(954688097, "2000-04-02T09:08:17-06:00", "America/Chihuahua")
    testTime(957033768, "2000-04-29T19:42:48+01:00", "Africa/Porto-Novo")
    testTime(959379439, "2000-05-27T03:17:19+05:00", "Asia/Dushanbe")
    testTime(961725110, "2000-06-22T19:51:50-06:00", "America/Inuvik")
    testTime(964070781, "2000-07-20T02:26:21-03:00", "America/Argentina/Catamarca")
    testTime(966416452, "2000-08-16T13:00:52+04:00", "Indian/Mauritius")
    testTime(968762123, "2000-09-12T06:35:23-06:00", "Pacific/Galapagos")
    testTime(971107794, "2000-10-10T01:09:54+09:00", "Asia/Seoul")
    testTime(973453465, "2000-11-06T06:44:25+11:00", "Australia/Hobart")
    testTime(975799136, "2000-12-03T01:18:56+02:00", "Africa/Harare")
    testTime(980490478, "2001-01-26T03:27:58-03:00", "America/Cuiaba")
    testTime(982836149, "2001-02-22T11:02:29+01:00", "Africa/Porto-Novo")
    testTime(985181820, "2001-03-21T14:37:00+01:00", "Europe/Podgorica")
    testTime(987527491, "2001-04-17T12:11:31-05:00", "America/Rio_Branco")
    testTime(989873162, "2001-05-14T16:46:02-04:00", "America/Caracas")
    testTime(992218833, "2001-06-11T02:20:33+02:00", "Europe/Gibraltar")
    testTime(994564504, "2001-07-08T12:55:04+09:00", "Asia/Jayapura")
    testTime(996910175, "2001-08-04T10:29:35+03:00", "Africa/Juba")
    testTime(999255846, "2001-08-31T21:04:06+10:00", "Asia/Choibalsan")
    testTime(1001601517, "2001-09-27T22:38:37+08:00", "Antarctica/Casey")
    testTime(1003947188, "2001-10-24T16:13:08-02:00", "America/Fortaleza")
    testTime(1006292859, "2001-11-20T13:47:39-08:00", "America/Vancouver")
    testTime(1008638530, "2001-12-17T22:22:10-03:00", "America/Cuiaba")
    testTime(1010984201, "2002-01-14T05:56:41+01:00", "Europe/Podgorica")
    testTime(1015675543, "2002-03-09T14:05:43+02:00", "Europe/Uzhgorod")
    testTime(1018021214, "2002-04-05T11:40:14-04:00", "America/Cuiaba")
    testTime(1020366885, "2002-05-02T16:14:45-03:00", "America/Argentina/Jujuy")
    testTime(1022712556, "2002-05-30T00:49:16+02:00", "Africa/Maseru")
    testTime(1025058227, "2002-06-26T06:23:47+04:00", "Europe/Ulyanovsk")
    testTime(1027403898, "2002-07-23T02:58:18-03:00", "America/Argentina/Mendoza")
    testTime(1029749569, "2002-08-19T16:32:49+07:00", "Asia/Phnom_Penh")
    testTime(1032095240, "2002-09-15T03:07:20-10:00", "Pacific/Honolulu")
    testTime(1034440911, "2002-10-12T16:41:51+00:00", "Africa/Bamako")
    testTime(1036786582, "2002-11-08T20:16:22+00:00", "Africa/Accra")
    testTime(1039132253, "2002-12-05T17:50:53-06:00", "America/Winnipeg")
    testTime(1041477924, "2003-01-02T13:55:24+10:30", "Australia/Adelaide")
    testTime(1046169266, "2003-02-25T05:34:26-05:00", "America/New_York")
    testTime(1048514937, "2003-03-24T08:08:57-06:00", "America/Merida")
    testTime(1050860608, "2003-04-20T19:43:28+02:00", "Africa/Bujumbura")
    testTime(1053206279, "2003-05-18T02:17:59+05:00", "Asia/Yerevan")
    testTime(1055551950, "2003-06-14T03:52:30+03:00", "Europe/Uzhgorod")
    testTime(1057897621, "2003-07-11T01:27:01-03:00", "America/Moncton")
    testTime(1060243292, "2003-08-07T20:01:32+12:00", "Asia/Ust-Nera")
    testTime(1062588963, "2003-09-03T13:36:03+02:00", "Africa/Lusaka")
    testTime(1064934634, "2003-09-30T18:10:34+03:00", "Asia/Bahrain")
    testTime(1067280305, "2003-10-27T14:45:05-04:00", "America/Puerto_Rico")
    testTime(1071971647, "2003-12-21T03:54:07+02:00", "Europe/Minsk")
    testTime(1074317318, "2004-01-17T08:28:38+03:00", "Africa/Juba")
    testTime(1076662989, "2004-02-13T14:03:09+05:00", "Asia/Dushanbe")
    testTime(1079008660, "2004-03-11T23:37:40+11:00", "Pacific/Efate")
    testTime(1081354331, "2004-04-07T13:12:11-03:00", "America/Thule")
    testTime(1083700002, "2004-05-04T14:46:42-05:00", "America/Bogota")
    testTime(1086045673, "2004-06-01T08:21:13+09:00", "Asia/Irkutsk")
    testTime(1088391344, "2004-06-27T21:55:44-05:00", "America/Menominee")
    testTime(1090737015, "2004-07-25T02:30:15-04:00", "America/Kentucky/Monticello")
    testTime(1093082686, "2004-08-21T11:04:46+01:00", "Atlantic/Faroe")
    testTime(1095428357, "2004-09-17T13:39:17+00:00", "Africa/El_Aaiun")
    testTime(1097774028, "2004-10-15T05:13:48+12:00", "Pacific/Fiji")
    testTime(1100119699, "2004-11-10T11:48:19-09:00", "America/Nome")
    testTime(1102465370, "2004-12-07T17:22:50-07:00", "America/Yellowknife")
    testTime(1104811041, "2005-01-04T11:57:21+08:00", "Asia/Shanghai")
    testTime(1107156712, "2005-01-31T09:31:52+02:00", "Africa/Mbabane")
    testTime(1109502383, "2005-02-27T07:06:23-04:00", "America/Lower_Princes")
    testTime(1111848054, "2005-03-26T16:40:54+02:00", "Africa/Tripoli")
    testTime(1114193725, "2005-04-22T13:15:25-05:00", "America/North_Dakota/Center")
    testTime(1116539396, "2005-05-20T00:49:56+03:00", "Indian/Comoro")
    testTime(1118885067, "2005-06-15T18:24:27-07:00", "America/Dawson_Creek")
    testTime(1121230738, "2005-07-13T06:58:58+02:00", "Europe/Amsterdam")
    testTime(1123576409, "2005-08-09T11:33:29+03:00", "Africa/Nairobi")
    testTime(1125922080, "2005-09-05T07:08:00-05:00", "America/Rio_Branco")
    testTime(1128267751, "2005-10-02T17:42:31+02:00", "Europe/Monaco")
    testTime(1130613422, "2005-10-30T03:17:02+08:00", "Asia/Kuching")
    testTime(1132959093, "2005-11-25T13:51:33-09:00", "America/Yakutat")
    testTime(1135304764, "2005-12-23T04:26:04+02:00", "Africa/Maseru")
    testTime(1137650435, "2006-01-19T10:00:35+04:00", "Asia/Muscat")
    testTime(1139996106, "2006-02-15T10:35:06+01:00", "Europe/Gibraltar")
    testTime(1142341777, "2006-03-14T15:09:37+02:00", "Africa/Cairo")
    testTime(1144687448, "2006-04-10T18:44:08+02:00", "Europe/Paris")
    testTime(1147033119, "2006-05-07T20:18:39+00:00", "Atlantic/St_Helena")
    testTime(1149378790, "2006-06-04T00:53:10+01:00", "Atlantic/Canary")
    testTime(1151724461, "2006-07-01T03:27:41+00:00", "America/Scoresbysund")
    testTime(1156415803, "2006-08-24T05:36:43-05:00", "America/Merida")
    testTime(1158761474, "2006-09-20T03:11:14-11:00", "Pacific/Apia")
    testTime(1161107145, "2006-10-17T18:45:45+01:00", "Atlantic/Faroe")
    testTime(1165798487, "2006-12-11T08:54:47+08:00", "Asia/Shanghai")
    testTime(1168144158, "2007-01-07T00:29:18-04:00", "America/La_Paz")
    testTime(1170489829, "2007-02-03T03:03:49-05:00", "America/Jamaica")
    testTime(1172835500, "2007-03-02T12:38:20+01:00", "Europe/Stockholm")
    testTime(1175181171, "2007-03-29T17:12:51+02:00", "Europe/Zagreb")
    testTime(1177526842, "2007-04-25T22:47:22+04:00", "Europe/Ulyanovsk")
    testTime(1179872513, "2007-05-23T00:21:53+02:00", "Europe/Vienna")
    testTime(1182218184, "2007-06-19T05:26:24+03:30", "Asia/Tehran")
    testTime(1184563855, "2007-07-16T07:30:55+02:00", "Europe/Vatican")
    testTime(1186909526, "2007-08-12T10:05:26+01:00", "Africa/Ndjamena")
    testTime(1189255197, "2007-09-08T15:39:57+03:00", "Asia/Gaza")
    testTime(1191600868, "2007-10-06T03:14:28+11:00", "Pacific/Kosrae")
    testTime(1193946539, "2007-11-01T19:48:59+00:00", "Africa/El_Aaiun")
    testTime(1196292210, "2007-11-29T06:23:30+07:00", "Asia/Phnom_Penh")
    testTime(1198637881, "2007-12-26T03:58:01+01:00", "Africa/Malabo")
    testTime(1200983552, "2008-01-22T04:32:32-02:00", "America/Argentina/San_Juan")
    testTime(1203329223, "2008-02-18T11:07:03+01:00", "Europe/Tirane")
    testTime(1205674894, "2008-03-16T06:41:34-07:00", "America/Los_Angeles")
    testTime(1208020565, "2008-04-12T12:16:05-05:00", "America/Chicago")
    testTime(1210366236, "2008-05-09T23:50:36+03:00", "Asia/Aden")
    testTime(1212711907, "2008-06-06T11:25:07+11:00", "Pacific/Kosrae")
    testTime(1215057578, "2008-07-02T20:59:38-07:00", "America/Fort_Nelson")
    testTime(1217403249, "2008-07-30T10:34:09+03:00", "Africa/Juba")
    testTime(1219748920, "2008-08-26T21:08:40+10:00", "Pacific/Guam")
    testTime(1222094591, "2008-09-22T16:43:11+02:00", "Europe/Vatican")
    testTime(1224440262, "2008-10-19T21:17:42+03:00", "Asia/Kuwait")
    testTime(1226785933, "2008-11-15T18:52:13-03:00", "America/Argentina/Rio_Gallegos")
    testTime(1229131604, "2008-12-12T19:26:44-06:00", "America/Menominee")
    testTime(1231477275, "2009-01-09T07:01:15+02:00", "Africa/Gaborone")
    testTime(1233822946, "2009-02-05T06:35:46-02:00", "America/Noronha")
    testTime(1236168617, "2009-03-04T13:10:17+01:00", "Europe/Luxembourg")
    testTime(1238514288, "2009-03-31T17:44:48+02:00", "Europe/Oslo")
    testTime(1240859959, "2009-04-28T07:19:19+12:00", "Pacific/Nauru")
    testTime(1243205630, "2009-05-24T23:53:50+01:00", "Europe/Lisbon")
    testTime(1245551301, "2009-06-20T22:28:21-04:00", "America/Grenada")
    testTime(1247896972, "2009-07-18T07:02:52+01:00", "Africa/Douala")
    testTime(1250242643, "2009-08-14T11:37:23+02:00", "Europe/Andorra")
    testTime(1254933985, "2009-10-07T10:46:25-06:00", "America/Yellowknife")
    testTime(1257279656, "2009-11-03T16:20:56-04:00", "America/St_Kitts")
    testTime(1259625327, "2009-12-01T02:55:27+03:00", "Indian/Comoro")
    testTime(1261970998, "2009-12-28T10:29:58+07:00", "Asia/Jakarta")
    testTime(1264316669, "2010-01-24T16:04:29+09:00", "Asia/Seoul")
    testTime(1266662340, "2010-02-20T04:39:00-06:00", "America/Matamoros")
    testTime(1271353682, "2010-04-15T20:48:02+03:00", "Indian/Comoro")
    testTime(1273699353, "2010-05-13T04:22:33+07:00", "Asia/Phnom_Penh")
    testTime(1276045024, "2010-06-09T03:57:04+03:00", "Asia/Hebron")
    testTime(1278390695, "2010-07-06T06:31:35+02:00", "Europe/Tirane")
    testTime(1280736366, "2010-08-02T18:06:06+10:00", "Pacific/Guam")
    testTime(1283082037, "2010-08-29T05:40:37-06:00", "America/Boise")
    testTime(1285427708, "2010-09-25T18:15:08+03:00", "Europe/Athens")
    testTime(1287773379, "2010-10-23T02:49:39+08:00", "Asia/Kuala_Lumpur")
    testTime(1290119050, "2010-11-18T18:24:10-04:00", "America/St_Vincent")
    testTime(1292464721, "2010-12-16T07:58:41+06:00", "Asia/Omsk")
    testTime(1294810392, "2011-01-12T10:33:12+05:00", "Asia/Karachi")
    testTime(1297156063, "2011-02-08T04:07:43-05:00", "America/Toronto")
    testTime(1299501734, "2011-03-07T06:42:14-06:00", "America/Indiana/Knox")
    testTime(1301847405, "2011-04-03T11:16:45-05:00", "America/Merida")
    testTime(1304193076, "2011-04-30T21:51:16+02:00", "Europe/Andorra")
    testTime(1306538747, "2011-05-27T23:25:47+00:00", "Africa/Bamako")
    testTime(1308884418, "2011-06-24T12:30:18+09:30", "Australia/Darwin")
    testTime(1311230089, "2011-07-21T01:34:49-05:00", "America/Jamaica")
    testTime(1313575760, "2011-08-17T20:09:20+10:00", "Asia/Chita")
    testTime(1315921431, "2011-09-13T19:28:51+05:45", "Asia/Kathmandu")
    testTime(1318267102, "2011-10-10T14:18:22-03:00", "America/Argentina/Mendoza")
    testTime(1320612773, "2011-11-06T13:52:53-07:00", "America/Inuvik")
    testTime(1322958444, "2011-12-04T03:27:24+03:00", "Europe/Minsk")
    testTime(1325304115, "2011-12-31T07:01:55+03:00", "Africa/Addis_Ababa")
    testTime(1327649786, "2012-01-27T04:36:26-03:00", "America/Santarem")
    testTime(1329995457, "2012-02-23T18:10:57+07:00", "Asia/Hovd")
    testTime(1332341128, "2012-03-21T21:45:28+07:00", "Asia/Vientiane")
    testTime(1334686799, "2012-04-17T10:19:59-08:00", "America/Metlakatla")
    testTime(1337032470, "2012-05-15T00:54:30+03:00", "Asia/Baghdad")
    testTime(1339378141, "2012-06-11T02:29:01+01:00", "Africa/Lagos")
    testTime(1341723812, "2012-07-08T18:03:32+13:00", "Pacific/Apia")
    testTime(1344069483, "2012-08-04T18:38:03+10:00", "Antarctica/DumontDUrville")
    testTime(1346415154, "2012-08-31T13:12:34+01:00", "Atlantic/Madeira")
    testTime(1348760825, "2012-09-27T11:47:05-04:00", "America/Blanc-Sablon")
    testTime(1351106496, "2012-10-24T16:21:36-03:00", "Antarctica/Rothera")
    testTime(1353452167, "2012-11-20T23:56:07+01:00", "Africa/Lagos")
    testTime(1355797838, "2012-12-17T23:30:38-03:00", "America/Bahia")
    testTime(1358143509, "2013-01-14T09:05:09+03:00", "Africa/Addis_Ababa")
    testTime(1360489180, "2013-02-10T04:39:40-05:00", "America/Toronto")
    testTime(1362834851, "2013-03-09T09:14:11-04:00", "America/Halifax")
    testTime(1365180522, "2013-04-05T22:33:42+05:45", "Asia/Kathmandu")
    testTime(1367526193, "2013-05-03T04:23:13+08:00", "Antarctica/Casey")
    testTime(1369871864, "2013-05-30T02:57:44+03:00", "Europe/Uzhgorod")
    testTime(1372217535, "2013-06-26T07:32:15+04:00", "Indian/Mauritius")
    testTime(1374563206, "2013-07-23T17:06:46+10:00", "Australia/Sydney")
    testTime(1376908877, "2013-08-19T15:11:17+04:30", "Asia/Kabul")
    testTime(1379254548, "2013-09-15T23:45:48+09:30", "Australia/Adelaide")
    testTime(1381600219, "2013-10-12T06:50:19-11:00", "Pacific/Midway")
    testTime(1383945890, "2013-11-08T22:24:50+01:00", "Europe/Madrid")
    testTime(1386291561, "2013-12-06T01:59:21+01:00", "Africa/Malabo")
    testTime(1388637232, "2014-01-02T15:33:52+11:00", "Antarctica/Macquarie")
    testTime(1390982903, "2014-01-28T21:08:23-11:00", "Pacific/Niue")
    testTime(1393328574, "2014-02-25T13:42:54+02:00", "Africa/Bujumbura")
    testTime(1395674245, "2014-03-24T17:17:25+02:00", "Europe/Helsinki")
    testTime(1398019916, "2014-04-20T11:51:56-07:00", "America/Vancouver")
    testTime(1400365587, "2014-05-18T05:26:27+07:00", "Asia/Bangkok")
    testTime(1402711258, "2014-06-14T06:00:58+04:00", "Asia/Tbilisi")
    testTime(1405056929, "2014-07-11T08:35:29+03:00", "Asia/Hebron")
    testTime(1407402600, "2014-08-07T12:10:00+03:00", "Asia/Qatar")
    testTime(1409748271, "2014-09-03T20:44:31+08:00", "Asia/Hong_Kong")
    testTime(1412093942, "2014-10-01T00:19:02+08:00", "Asia/Choibalsan")
    testTime(1414439613, "2014-10-27T20:53:33+01:00", "Europe/Stockholm")
    testTime(1416785284, "2014-11-23T20:28:04-03:00", "Atlantic/Stanley")
    testTime(1419130955, "2014-12-21T11:02:35+08:00", "Asia/Choibalsan")
    testTime(1421476626, "2015-01-17T17:37:06+11:00", "Pacific/Guadalcanal")
    testTime(1423822297, "2015-02-13T04:11:37-06:00", "America/Indiana/Tell_City")
    testTime(1426167968, "2015-03-12T10:46:08-03:00", "America/Fortaleza")
    testTime(1428513639, "2015-04-08T21:50:39+04:30", "Asia/Kabul")
    testTime(1430859310, "2015-05-05T15:55:10-05:00", "America/Matamoros")
    testTime(1433204981, "2015-06-02T04:29:41+04:00", "Asia/Dubai")
    testTime(1435550652, "2015-06-29T07:04:12+03:00", "Europe/Bucharest")
    testTime(1437896323, "2015-07-26T02:38:43-05:00", "America/Menominee")
    testTime(1440241994, "2015-08-22T12:13:14+01:00", "Europe/Dublin")
    testTime(1442587665, "2015-09-18T09:47:45-05:00", "America/Matamoros")
    testTime(1444933336, "2015-10-15T12:22:16-06:00", "America/Ojinaga")
    testTime(1447279007, "2015-11-11T22:56:47+01:00", "Europe/Berlin")
    testTime(1449624678, "2015-12-09T04:31:18+03:00", "Asia/Kuwait")
    testTime(1451970349, "2016-01-04T18:05:49-11:00", "Pacific/Midway")
    testTime(1454316020, "2016-02-01T03:40:20-05:00", "America/Toronto")
    testTime(1456661691, "2016-02-28T22:14:51+10:00", "Pacific/Guam")
    testTime(1459007362, "2016-03-26T16:49:22+01:00", "Europe/Zagreb")
    testTime(1461353033, "2016-04-23T00:23:53+05:00", "Asia/Ashgabat")
    testTime(1463698704, "2016-05-19T20:58:24-02:00", "America/Noronha")
    testTime(1466044375, "2016-06-15T23:32:55-03:00", "America/Argentina/Mendoza")
    testTime(1468390046, "2016-07-13T06:07:26+00:00", "Africa/Nouakchott")
    testTime(1470735717, "2016-08-09T02:41:57-07:00", "America/Dawson")
    testTime(1473081388, "2016-09-05T10:16:28-03:00", "America/Halifax")
    testTime(1475427059, "2016-10-02T21:50:59+05:00", "Asia/Aqtau")
    testTime(1477772730, "2016-10-29T14:25:30-06:00", "America/Chihuahua")
    testTime(1480118401, "2016-11-26T00:00:01+00:00", "Africa/Ouagadougou")
    testTime(1482464072, "2016-12-23T10:34:32+07:00", "Asia/Novokuznetsk")
    testTime(1484809743, "2017-01-19T08:09:03+01:00", "Europe/Sarajevo")
    testTime(1487155414, "2017-02-15T03:43:34-07:00", "America/Hermosillo")
    testTime(1489501085, "2017-03-14T21:18:05+07:00", "Asia/Barnaul")
    testTime(1491846756, "2017-04-11T04:52:36+11:00", "Antarctica/Casey")
    testTime(1494192427, "2017-05-07T10:27:07-11:00", "Pacific/Pago_Pago")
    testTime(1496538098, "2017-06-03T15:01:38-10:00", "Pacific/Honolulu")
    testTime(1498883769, "2017-07-01T06:36:09+02:00", "Africa/Gaborone")
    testTime(1501229440, "2017-07-28T10:10:40+02:00", "Africa/Maputo")
    testTime(1503575111, "2017-08-24T08:45:11-03:00", "America/Maceio")
    testTime(1505920782, "2017-09-20T12:19:42-03:00", "America/Cayenne")
    testTime(1508266453, "2017-10-17T20:54:13+02:00", "Africa/Lubumbashi")
    testTime(1510612124, "2017-11-14T00:28:44+02:00", "Europe/Vilnius")
    testTime(1512957795, "2017-12-10T22:03:15-04:00", "America/Caracas")
    testTime(1515303466, "2018-01-07T01:37:46-04:00", "America/Kralendijk")
    testTime(1517649137, "2018-02-03T11:12:17+02:00", "Africa/Tripoli")
    testTime(1519994808, "2018-03-02T03:46:48-09:00", "America/Anchorage")
    testTime(1524686150, "2018-04-26T02:55:50+07:00", "Asia/Novokuznetsk")
    testTime(1527031821, "2018-05-23T11:30:21+12:00", "Asia/Anadyr")
    testTime(1529377492, "2018-06-19T04:04:52+01:00", "Africa/Ndjamena")
    testTime(1531723163, "2018-07-16T02:39:23-04:00", "America/Havana")
    testTime(1534068834, "2018-08-12T11:13:54+01:00", "Africa/Porto-Novo")
    testTime(1536414505, "2018-09-08T15:48:25+02:00", "Africa/Blantyre")
    testTime(1538760176, "2018-10-05T14:22:56-03:00", "America/Fortaleza")
    testTime(1541105847, "2018-11-01T22:57:27+02:00", "Africa/Cairo")
    testTime(1543451518, "2018-11-29T12:31:58+12:00", "Pacific/Kwajalein")
    testTime(1545797189, "2018-12-26T06:06:29+02:00", "Africa/Mbabane")
    testTime(1548142860, "2019-01-22T07:41:00+00:00", "Africa/Monrovia")
    testTime(1550488531, "2019-02-18T12:15:31+01:00", "Africa/Tunis")
    testTime(1552834202, "2019-03-17T14:50:02+00:00", "Africa/Bamako")
    testTime(1555179873, "2019-04-13T20:24:33+02:00", "Africa/Johannesburg")
    testTime(1557525544, "2019-05-10T22:59:04+01:00", "Europe/Lisbon")
    testTime(1559871215, "2019-06-07T03:33:35+02:00", "Europe/Paris")
    testTime(1562216886, "2019-07-04T08:08:06+03:00", "Europe/Moscow")
    testTime(1564562557, "2019-07-31T10:42:37+02:00", "Europe/Amsterdam")
    testTime(1569253899, "2019-09-23T10:51:39-05:00", "America/Cancun")
    testTime(1571599570, "2019-10-21T00:26:10+05:00", "Antarctica/Mawson")
    testTime(1573945241, "2019-11-17T04:30:41+05:30", "Asia/Colombo")
    testTime(1576290912, "2019-12-14T08:20:12+05:45", "Asia/Kathmandu")
    testTime(1578636583, "2020-01-10T06:09:43+00:00", "Africa/Banjul")
    testTime(1580982254, "2020-02-06T18:44:14+09:00", "Asia/Jayapura")
    testTime(1583327925, "2020-03-04T07:18:45-06:00", "Pacific/Galapagos")
    testTime(1585673596, "2020-03-31T18:53:16+02:00", "Europe/Vaduz")
    testTime(1588019267, "2020-04-27T13:27:47-07:00", "America/Dawson_Creek")
    testTime(1590364938, "2020-05-25T00:02:18+00:00", "Africa/Bissau")
    testTime(1595056280, "2020-07-18T01:11:20-06:00", "America/El_Salvador")
    testTime(1599747622, "2020-09-10T17:20:22+03:00", "Africa/Addis_Ababa")
    testTime(1602093293, "2020-10-07T18:54:53+01:00", "Africa/Malabo")
    testTime(1604438964, "2020-11-03T22:29:24+01:00", "Africa/Casablanca")
    testTime(1606784635, "2020-12-01T01:03:55+00:00", "Africa/Bissau")
    testTime(1609130306, "2020-12-28T17:38:26+13:00", "Pacific/Fiji")
